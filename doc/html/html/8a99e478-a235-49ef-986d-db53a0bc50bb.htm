<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Structural Overview</title><link rel="stylesheet" type="text/css" href="../styles/Presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><link rel="stylesheet" type="text/css" href="ms-help://Dx/DxRuntime/DxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/DataStore.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><xml><MSHelp:TOCTitle Title="" /><MSHelp:Keyword Index="A" Term="8a99e478-a235-49ef-986d-db53a0bc50bb" /><MSHelp:Attr Name="RevisionNumber" Value="1" /><MSHelp:Attr Name="AssetID" Value="8a99e478-a235-49ef-986d-db53a0bc50bb" /><MSHelp:Attr Name="Abstract" Value="The first thing to understand about CAINav is that it is not a plug-and-play solution. Well, NMGen in Unity http://unity3d.com/ is plug-and-play. But creating the navigation mesh is just the starting point. To use the navigation mesh you'll need to i ..." /><MSHelp:Attr Name="TopicType" Value="kbArticle" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" alt="Collapse image" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" alt="Expand Image" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expall.gif" alt="ExpandAll image" title="ExpandAll image" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" alt="DropDownHover image" title="DropDownHover image" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" alt="Copy image" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" alt="CopyHover image" title="CopyHover image" /><img id="checkBoxSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_selected.gif" /><img id="checkBoxUnSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected.gif" /><img id="checkBoxSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_selected_hover.gif" /><img id="checkBoxUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected_hover.gif" /><img id="radioSelectImage" style="display:none; height:0; width:0;" src="../icons/r_select.gif" /><img id="radioUnSelectImage" style="display:none; height:0; width:0;" src="../icons/r_unselect.gif" /><img id="radioSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_select_hover.gif" /><img id="radioUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_unselect_hover.gif" /><img id="curvedLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_cnr.gif" /><img id="curvedRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_cnr.gif" /><img id="curvedLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_cnr.gif" /><img id="curvedRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_cnr.gif" /><img id="gradLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_grad.gif" /><img id="gradRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_grad.gif" /><img id="gradLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_grad.gif" /><img id="gradRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_grad.gif" /><img id="twirlSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected.gif" /><img id="twirlUnSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" /><img id="twirlSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected_hover.gif" /><img id="twirlUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" /><img id="NSRBottomImage" style="display:none; height:0; width:0;" src="../icons/NSRbottomgrad.gif" /><div id="header"><table id="topTable"><tr id="headerTableRow3"><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span> | <span id="languageFilterToolTip" style="cursor:default;" onmouseover="languageFilterImage.src=dropDownHoverImage.src;" onmouseout="languageFilterImage.src=dropDownImage.src;" tabindex="0"><img id="languageFilterImage" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><label id="CSharpLabel" for="languageFilterImage" style="display: none;">Language Filter: C#</label><label id="VisualBasicLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual Basic</label><label id="ManagedCPlusPlusLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual C++</label></span><div id="languageSpan"><div id="CSharp" onclick="changeLanguage(data, 'CSharp', 'cs');"><img id="CSharpImage" onmouseover="mouseOverCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> C#</div><br /><div id="VisualBasic" onclick="changeLanguage(data, 'VisualBasic', 'vb');"><img id="VisualBasicImage" onmouseover="mouseOverCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual Basic</div><br /><div id="ManagedCPlusPlus" onclick="changeLanguage(data, 'ManagedCPlusPlus', 'cpp');"><img id="ManagedCPlusPlusImage" onmouseover="mouseOverCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual C++</div><br /></div></td></tr><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">CritterAI Documentation</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Structural Overview</span></td></tr><tr><td class="nsrBottom" background="../icons/NSRbottomgrad.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p></span><div class="introduction"><p>
			The first thing to understand about <b>CAINav</b> is that it is 
			not a plug-and-play solution. Well, NMGen in <a href="http://unity3d.com/" target="_blank">Unity</a> is plug-and-play. But creating the 
			navigation mesh is just the starting point. To use the navigation mesh you'll need to implement your own 
			code. And to do that you'll need to understand <b>CAINav's</b> structure.
			</p><p>
			All core features of <b>CAINav</b> can be used in .NET-only applications.  But there are many
			ease-of use extensions available for use only in Unity Pro.  Any library or namespace containing 'u3d' are Unity-only.
			</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>Definitions</p><p>
				Core features: Elements (classes, interfaces, etc.) that provide the core features. They are part of the .NET API 
				and are available for use by all users.
				</p><p>Common extensions: Elements that provide ease-of-use features for all users.</p><p>Unity extensions: Elements that provide ease-of-use features specific to Unity users.</p></td></tr></table></div></div><a name="10KView"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EKAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EKAAA, event)" tabindex="0"><img id="sectionToggleID0EKAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />The 10,000 Meter View</span></h1><div id="sectionSectionID0EKAAA" class="section" name="collapseableSection" style=""><p>
				The below diagram shows the relationships of the core components from a construction/build 
				perspective.
				</p><div class="mediaNear"><img alt="High Level Components" src="../media/HighLevelComponents.png" /></div></div><a name="SourceGeometry"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EJAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EJAAA, event)" tabindex="0"><img id="sectionToggleID0EJAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />1 - Input Data</span></h1><div id="sectionSectionID0EJAAA" class="section" name="collapseableSection" style=""><p>
				As a minimum you have to have some sort of source 
				geometry from which you can obtain vertex and triangle data. In Unity, the source geometry is
				usually obtained from MeshFilters and Terrain objects. But anything that provides vertices and 
				triangles can be used.
				</p><p>
				For more complex builds you may also need to provide other data such as off-mesh connections and
				custom build processors.
				</p><p>
				Common Extensions:
				<span sdata="cer" target="T:org.critterai.nmbuild.InputGeometry"><a href="AF3844AA.htm">InputGeometry</a></span>,
				<span sdata="cer" target="T:org.critterai.nmbuild.ProcessorSet"><a href="E67B5D5E.htm">ProcessorSet</a></span></p><p>
				The Unity extensions implement a flexible and extensible input build process that helps
				gather everyting together for you.
				</p><p>
				Triangle wrap direction on the xz-plane is used for the detection of which face of the triangle is 
				considered up.  The y-axis is up/down. A picture is worth a thousand words. If your source geometry is wrapped differently 
				than shown, then it will need to be translated into this format before use in the NMGen 
				build process.
				</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>
				  CAINav uses the OpenGL coordinate system.
				  </p></td></tr></table></div><div class="mediaNear"><img alt="Standard Wrap Direction" src="../media/WrapDirection.png" /></div></div><a name="NMGenBuildConfig"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EIAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EIAAA, event)" tabindex="0"><img id="sectionToggleID0EIAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />2 - NMGen Configuration</span></h1><div id="sectionSectionID0EIAAA" class="section" name="collapseableSection" style=""><p>
				Source geometry may represent exterior natural geography or interior environments in any number 
				of different styles. The navigation clients may be human-type agents, vehicles, 
				wheeled robots, etc.; each with its own locomotion restrictions. For these reasons NMGen supports a large variety of 
				configuration settings that adjust how the navigation mesh data is generated.
				</p><p>
				Core Classes: 
				<span sdata="cer" target="T:org.critterai.nmgen.NMGenParams"><a href="8F938FF5.htm">NMGenParams</a></span>,
				<span sdata="cer" target="T:org.critterai.nmgen.NMGenTileParams"><a href="5AED591.htm">NMGenTileParams</a></span></p></div><a name="PolyMeshes"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EHAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EHAAA, event)" tabindex="0"><img id="sectionToggleID0EHAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />3 - Polygon and Detail Meshes</span></h1><div id="sectionSectionID0EHAAA" class="section" name="collapseableSection" style=""><p>
				The input data and NMGen configuration are used to create two types of meshes. The 
				polygon mesh provides the data needed for pathfinding operations. The optional detail mesh provides extra 
				height detail helpful for certain position queries. (Better height position at a higher memory cost.) 
				Together, these meshes provide the core structural data for the navigation mesh.
				</p><p>
				Core Classes: 
				<span sdata="cer" target="T:org.critterai.nmgen.PolyMesh"><a href="229D6633.htm">PolyMesh</a></span>,
				<span sdata="cer" target="T:org.critterai.nmgen.PolyMeshDetail"><a href="287D3362.htm">PolyMeshDetail</a></span></p><div class="mediaNear"><img alt="Poly Mesh-Basic" src="../media/PolyMesh-Basic.jpg" /></div></div><a name="OffMeshConnections"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EGAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EGAAA, event)" tabindex="0"><img id="sectionToggleID0EGAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />4 - Off-Mesh Connections</span></h1><div id="sectionSectionID0EGAAA" class="section" name="collapseableSection" style=""><p>
				In some cases there are special travel routes not based on the surface of the source geometry. For example,
				an agent may be able to vault over a railing.  Off-mesh connections can be used to represent
				these routes and are connected to the navigation mesh as a single edge.
				</p><p>
				Common Extensions:
				<span sdata="cer" target="T:org.critterai.nmbuild.ConnectionSet"><a href="5AB06572.htm">ConnectionSet</a></span></p><div class="mediaNear"><img alt="Off Mesh Connection" src="../media/OffMeshConnection.jpg" /></div></div><a name="NavmeshTiles"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EFAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EFAAA, event)" tabindex="0"><img id="sectionToggleID0EFAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />5 - Navigation Mesh Tiles </span></h1><div id="sectionSectionID0EFAAA" class="section" name="collapseableSection" style=""><p>
				Tiles contain the data that makes up the navigation mesh. A navigation mesh 
				cannot exist without at least one tile.  The ability to have multiple 
				tiles in a navigation mesh opens up a huge variety of options. Think: Navigation meshes that 
				cover large or complex areas, swapping tiles in and out at runtime.
				</p><p>
				As a minimum, each tile contains a polygon mesh.  It can also contain optional data such as
				a detail mesh and off-mesh connections.
				</p><p>
				Core Classes:
				<span sdata="cer" target="T:org.critterai.nav.NavmeshTileBuildData"><a href="73B93BBC.htm">NavmeshTileBuildData</a></span>,
				<span sdata="cer" target="T:org.critterai.nav.NavmeshTileData"><a href="809F0D0.htm">NavmeshTileData</a></span>,
				<span sdata="cer" target="T:org.critterai.nav.NavmeshTile"><a href="BDF02040.htm">NavmeshTile</a></span></p></div><a name="Navmesh"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EEAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EEAAA, event)" tabindex="0"><img id="sectionToggleID0EEAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />6 - Navigation Mesh</span></h1><div id="sectionSectionID0EEAAA" class="section" name="collapseableSection" style=""><p>
				A navigation mesh may contain a single rectangle tile, or a grid of square tiles. It is compact 
				and efficient with various methods of serializing, de-serializing, and swapping data in and out at 
				runtime.
				</p><p>Core Class: 
				<span sdata="cer" target="T:org.critterai.nav.Navmesh"><a href="90CC41AC.htm">Navmesh</a></span></p><p>Unity Extensions: 
				<span sdata="cer" target="T:CAIBakedNavmesh"><a href="8BDF26C6.htm">CAIBakedNavmesh</a></span>,
				<span sdata="cer" target="T:org.critterai.nav.u3d.INavmeshData"><a href="EB38403B.htm">INavmeshData</a></span></p></div><a name="NavmeshQuery"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EDAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EDAAA, event)" tabindex="0"><img id="sectionToggleID0EDAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />7 - Navigation Mesh Query</span></h1><div id="sectionSectionID0EDAAA" class="section" name="collapseableSection" style=""><p>
				The navigation mesh query is what all clients use to perform pathfinding and related 
				queries against the navigation mesh. Even if you use the crowd manager for steering, you'll 
				need to use a navigation mesh query for non-local pathfinding and other higher level planning.
				</p><p>
				Core Class: 
				<span sdata="cer" target="T:org.critterai.nav.NavmeshQuery"><a href="7D428A30.htm">NavmeshQuery</a></span></p><div class="mediaNear"><img alt="Explorer-Straight Path" src="../media/Explorer-StraightPath.jpg" /></div></div><a name="NavmeshQueryFilter"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0ECAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0ECAAA, event)" tabindex="0"><img id="sectionToggleID0ECAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />8 - Query Filter</span></h1><div id="sectionSectionID0ECAAA" class="section" name="collapseableSection" style=""><p>
				Filters allow pathfinding behavior to be altered at runtime without changing the structure of 
				the navigation mesh. They are used in most query methods to indicate which navigation mesh polygons 
				are considered accessible and which aren't. They also define the traversal cost of different types 
				of polygons.
				</p><p>Filters can be specific to individual agents or shared between groups of agents.</p><p>
				Core Class: 
				<span sdata="cer" target="T:org.critterai.nav.NavmeshQueryFilter"><a href="1A24BDAA.htm">NavmeshQueryFilter</a></span></p></div><a name="CrowdManager"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EBAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EBAAA, event)" tabindex="0"><img id="sectionToggleID0EBAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />9 - Crowd Manger</span></h1><div id="sectionSectionID0EBAAA" class="section" name="collapseableSection" style=""><p>
				The crowd manager implements local steering. You provide it with agents
				to manage and local targets for the agents to move to, and it handles steering the agents in 
				order to avoid collisions with other agents.
				</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_caution.gif" title="Important note" /> <b>Important Note:</b></th></tr><tr><td><p>
				The use of the term "local" is important. CrowdManager can't do long distance path planning.
				</p></td></tr></table></div><p>Core Class: 
				<span sdata="cer" target="T:org.critterai.nav.CrowdManager"><a href="F68EDAE8.htm">CrowdManager</a></span></p></div><a name="dependencies"> </a><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EAAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EAAAA, event)" tabindex="0"><img id="sectionToggleID0EAAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Dependencies and Layers</span></h1><div id="sectionSectionID0EAAAA" class="section" name="collapseableSection" style=""><p><b>CAINav</b> consists of multiple libraries, some optional.</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>The plug-in and core libraries are required. The rest are technically optional.</p><p>Duplicate dependencies are not shown.</p><p>Some optional 'extras' available for Unity are not shown.</p></td></tr></table></div><div class="mediaNear"><img alt="Dependencies" src="../media/CAINavDependencies.png" /></div></div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" alt="Footer image" title="Footer image" /></div><a href="http://www.critterai.org/" target="_parent">Project Home</a> | <a href="http://code.google.com/p/critterai/" target="_parent">Source Code</a> | <a href="http://www.critterai.org/cailic" target="_parent">License</a><p />Copyright (c) 2010-2012 Stephen A. Pratt</div></div></div></body></html>