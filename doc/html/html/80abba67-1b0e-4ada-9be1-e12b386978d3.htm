<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Build Configuration</title><link rel="stylesheet" type="text/css" href="../styles/Presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><link rel="stylesheet" type="text/css" href="ms-help://Dx/DxRuntime/DxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/DataStore.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><xml><MSHelp:TOCTitle Title="" /><MSHelp:Keyword Index="A" Term="80abba67-1b0e-4ada-9be1-e12b386978d3" /><MSHelp:Attr Name="RevisionNumber" Value="1" /><MSHelp:Attr Name="AssetID" Value="80abba67-1b0e-4ada-9be1-e12b386978d3" /><MSHelp:Attr Name="Abstract" Value="This topic covers some of the Unity http://unity3d.com/ specfic configuration settings found in the T:NavmeshBuild asset." /><MSHelp:Attr Name="TopicType" Value="kbArticle" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" alt="Collapse image" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" alt="Expand Image" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expall.gif" alt="ExpandAll image" title="ExpandAll image" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" alt="DropDownHover image" title="DropDownHover image" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" alt="Copy image" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" alt="CopyHover image" title="CopyHover image" /><img id="checkBoxSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_selected.gif" /><img id="checkBoxUnSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected.gif" /><img id="checkBoxSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_selected_hover.gif" /><img id="checkBoxUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected_hover.gif" /><img id="radioSelectImage" style="display:none; height:0; width:0;" src="../icons/r_select.gif" /><img id="radioUnSelectImage" style="display:none; height:0; width:0;" src="../icons/r_unselect.gif" /><img id="radioSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_select_hover.gif" /><img id="radioUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_unselect_hover.gif" /><img id="curvedLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_cnr.gif" /><img id="curvedRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_cnr.gif" /><img id="curvedLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_cnr.gif" /><img id="curvedRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_cnr.gif" /><img id="gradLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_grad.gif" /><img id="gradRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_grad.gif" /><img id="gradLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_grad.gif" /><img id="gradRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_grad.gif" /><img id="twirlSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected.gif" /><img id="twirlUnSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" /><img id="twirlSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected_hover.gif" /><img id="twirlUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" /><img id="NSRBottomImage" style="display:none; height:0; width:0;" src="../icons/NSRbottomgrad.gif" /><div id="header"><table id="topTable"><tr id="headerTableRow3"><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span> | <span id="languageFilterToolTip" style="cursor:default;" onmouseover="languageFilterImage.src=dropDownHoverImage.src;" onmouseout="languageFilterImage.src=dropDownImage.src;" tabindex="0"><img id="languageFilterImage" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><label id="CSharpLabel" for="languageFilterImage" style="display: none;">Language Filter: C#</label><label id="VisualBasicLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual Basic</label><label id="ManagedCPlusPlusLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual C++</label></span><div id="languageSpan"><div id="CSharp" onclick="changeLanguage(data, 'CSharp', 'cs');"><img id="CSharpImage" onmouseover="mouseOverCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> C#</div><br /><div id="VisualBasic" onclick="changeLanguage(data, 'VisualBasic', 'vb');"><img id="VisualBasicImage" onmouseover="mouseOverCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual Basic</div><br /><div id="ManagedCPlusPlus" onclick="changeLanguage(data, 'ManagedCPlusPlus', 'cpp');"><img id="ManagedCPlusPlusImage" onmouseover="mouseOverCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual C++</div><br /></div> | <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a></td></tr><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">CritterAI Documentation</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Build Configuration</span></td></tr><tr><td class="nsrBottom" background="../icons/NSRbottomgrad.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p></span><div class="introduction"><p>
			This topic covers some of the <a href="http://unity3d.com/" target="_blank">Unity</a> specfic configuration settings found in the 
			<span sdata="cer" target="T:NavmeshBuild"><a href="4E4B3848.htm">NavmeshBuild</a></span> asset.
			</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>
				See the <span sdata="cer" target="T:org.critterai.nmgen.NMGenParams"><a href="8F938FF5.htm">NMGenParams</a></span> documentation for information on the standard configuration settings.
				</p></td></tr></table></div></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EDAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EDAAA, event)" tabindex="0"><img id="sectionToggleID0EDAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Controls and Target Assignment</span></h1><div id="sectionSectionID0EDAAA" class="section" name="collapseableSection" style=""><p>
				The upper portion of the inspector contains the main build controls and build target.
				</p><div class="mediaNear"><img alt="Navmesh Build Upper" src="../media/NavmeshBuildUpper.jpg" /></div><p>
				The bake target is the asset that will get the result of the build.  (The navigation mesh.)  Any ScritableObject that
				implements the <span sdata="cer" target="T:org.critterai.nav.u3d.INavmeshData"><a href="EB38403B.htm">INavmeshData</a></span> interface can be used.  The normal
				target will be a <span sdata="cer" target="T:CAIBakedNavmesh"><a href="8BDF26C6.htm">CAIBakedNavmesh</a></span> asset.  Note that this is a navigation asset, not an NMGen asset,
				so it can be distributed as part of the project compile and be referenced by scene components.
				</p><p>
				There are two types of builds.  A standard build is performed directly from the inspector and will run a foreground build of the entire
				navigation mesh.  (Can't do anything else in the Unity editor until the build is complete.)  The advanced build provides extra debug options,
				background build capabilities, and the ability to partially rebuild multi-tile navigation meshes.  The advanced build uses a special
				editor window for the build.
				</p><p>
				The <span class="ui">Log Mesh State</span> button will log the current state of the build target to the console.  (Polygon count, bounds, etc.)
				</p><p>
				The <span class="ui">Build &amp; Bake</span> button will run a full build and bake of the navigation mesh in the foreground using the current scene as the input source.
				(There will be a warning at the top of the inspector if the current scene is not the same as the last input scene.)
				</p><p>
				If <span class="ui">Trace</span> is enabled, then detailed trace messages will be sent to the console.  This is useful for debugging the build.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0ECAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0ECAAA, event)" tabindex="0"><img id="sectionToggleID0ECAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />NMGen Configuration</span></h1><div id="sectionSectionID0ECAAA" class="section" name="collapseableSection" style=""><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>
					This section will not be avaiable if the build type is set to advanced.
					</p></td></tr></table></div><p>
				The configuration section contains the standard NMGen confiugration settings plus a some Unity specific options.
				</p><div class="mediaNear"><img alt="Navmesh Build Config" src="../media/NavmeshBuildConfig.jpg" /></div><p>
				The very first NMGen configuration settings you should take a look at are the <span class="ui">Agent Settings</span>.
				Most other settings are derived, at least in part, from these.  Unlike the <span sdata="cer" target="T:org.critterai.nmgen.NMGenParams"><a href="8F938FF5.htm">NMGenParams</a></span> core class, these agent settings are in world
				units, not cell units.  Set the values based on your agent maximums.  (Maximum height, maximum radius, etc.)
				</p><p>
				The next settings you'll want to take a look at are the <span class="ui">Resolution and Tile Settings</span>.  You can derive these yourself with the help of
				the <span sdata="cer" target="T:org.critterai.nmgen.NMGenParams"><a href="8F938FF5.htm">NMGenParams</a></span> documentation.  But if you've already set up the scene you can use the <span class="ui">Derive</span> button to get a good starting point.
				The values will be derived based on a combination of the agent settings and bounds of the input geometry.
				</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>
					A Tile Size of zero results in a single tile mesh.
					</p></td></tr></table></div><p>
				There are various toggle options in the <span class="ui">Advanced</span> configuration section.  These will automatically add NMGen processors to the build as follows:
				</p><ul><li>Ledges Not Walkable -&gt; <span sdata="cer" target="T:org.critterai.nmbuild.FilterLedgeSpans"><a href="9AC600FE.htm">FilterLedgeSpans</a></span></li><li>Low Height Not Walkable -&gt; <span sdata="cer" target="T:org.critterai.nmbuild.FilterLowHeightSpans"><a href="40C3F812.htm">FilterLowHeightSpans</a></span></li><li>Low Obstacles Walkable -&gt; <span sdata="cer" target="T:org.critterai.nmbuild.LowObstaclesWalkable"><a href="430ABBE9.htm">LowObstaclesWalkable</a></span></li><li>Apply Poly Flag -&gt; <span sdata="cer" target="T:org.critterai.nmbuild.ApplyPolygonFlags"><a href="E0844A0B.htm">ApplyPolygonFlags</a></span> (Flag: 0x01)</li></ul><p>
				If you don't need a lot of height detail in your navigation mesh you can uncheck the <span class="ui">Include Detail Mesh</span> option.  This will
				make the final navigation mesh more memory efficient.
				</p><p>
				The <span class="ui">Clean</span> button can be used to round values to more reasonable values.  (E.g. 0.2929384839 to 0.29)
				</p><p>
				The <span class="ui">Reset</span> button will reset the NMGen configuration to its original default values.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EBAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EBAAA, event)" tabindex="0"><img id="sectionToggleID0EBAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Input Configuration</span></h1><div id="sectionSectionID0EBAAA" class="section" name="collapseableSection" style=""><p>
				The input configuration contains the scene query and processor asset assignments.
				</p><div class="mediaNear"><img alt="Navmesh Build Input" src="../media/NavmeshBuildInput.jpg" /></div><p>
				The assets assigned in this section can be created using menu items founds under <span class="ui">CritterAI -&gt; Create NMGen Assets</span>.  Note that some
				assets are effectively singletons with no configuration.  In such cases there is no need to create more than one per project; and the inspector won't let
				you add them twice to the same build.
				</p><p>
				It is perfectly fine to share scene query and input processors between multiple <span sdata="cer" target="T:NavmeshBuild"><a href="4E4B3848.htm">NavmeshBuild</a></span> assets.
				</p><p>
				The most common scene query is <span sdata="cer" target="T:TagSceneQuery"><a href="65067ED4.htm">TagSceneQuery</a></span>.  The scene query is optional.  If none is provided then 
				the search will be global.  E.g. All MeshFilters in the scene, all terrains in the scene, etc.
				</p><p>
				There must be at least one input processor for the build.  For simple builds this is usually a compiler.  The most commonly used compiler is
				<span sdata="cer" target="T:MeshCompiler"><a href="9865750C.htm">MeshCompiler</a></span>.  You can add as many processors as you wish.  The processors will be run in
				ascending priority.  This is especially useful for area assignment since it allows higher priority areas to overwrite lower priority areas.
				</p><p>
				The inspector won't let you add the the same input processor asset to a build twice.
				</p><p>
				The <span class="ui">Auto-Clean</span> option is used to automatically clean up invalid triangles in the input geometry.  Sometimes modeling programs can let invalid triangles slip in;
				triangles that are no problem for the renderer but cause problems for NMGen.  For example, triangles that contain the same vertex twice will be removed.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle, event)" tabindex="0"><img id="seeAlsoToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><h4 class="subHeading">Concepts</h4><div class="seeAlsoStyle"><span sdata="link"><a href="61341701-6cb3-408b-9b1e-d60e3fb817e1.htm">Building Navigation Meshes</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="fb2ca7fa-3b03-41c6-88d8-731c44fb7879.htm">The Input Build</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="b2097a0c-c41b-4d23-8861-2faccfc574f1.htm">The Advanced Build Type</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="0b06b934-9f2b-43a3-a96b-6fd9dc8483c7.htm">An Introduction to NMGen</a></span></div></div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" alt="Footer image" title="Footer image" /></div><a href="http://www.critterai.org/" target="_parent">Project Home</a> | <a href="http://code.google.com/p/critterai/" target="_parent">Source Code</a> | <a href="http://www.critterai.org/cailic" target="_parent">License</a><p />Copyright (c) 2010-2012 Stephen A. Pratt</div></div></div></body></html>