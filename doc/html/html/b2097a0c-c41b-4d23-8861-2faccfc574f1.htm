<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>The Advanced Build Type</title><link rel="stylesheet" type="text/css" href="../styles/Presentation.css" /><link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css" /><link rel="stylesheet" type="text/css" href="ms-help://Dx/DxRuntime/DxLink.css" /><script type="text/javascript" src="../scripts/EventUtilities.js"> </script><script type="text/javascript" src="../scripts/SplitScreen.js"> </script><script type="text/javascript" src="../scripts/Dropdown.js"> </script><script type="text/javascript" src="../scripts/script_manifold.js"> </script><script type="text/javascript" src="../scripts/LanguageFilter.js"> </script><script type="text/javascript" src="../scripts/DataStore.js"> </script><script type="text/javascript" src="../scripts/CommonUtilities.js"> </script><script type="text/javascript" src="../scripts/MemberFilter.js"> </script><xml><MSHelp:TOCTitle Title="" /><MSHelp:Keyword Index="A" Term="b2097a0c-c41b-4d23-8861-2faccfc574f1" /><MSHelp:Attr Name="RevisionNumber" Value="1" /><MSHelp:Attr Name="AssetID" Value="b2097a0c-c41b-4d23-8861-2faccfc574f1" /><MSHelp:Attr Name="Abstract" Value="The T:NavmeshBuild asset's advanced build type serves three main purposes:" /><MSHelp:Attr Name="TopicType" Value="kbArticle" /><MSHelp:Attr Name="Locale" Value="en-us" /></xml></head><body><input type="hidden" id="userDataCache" class="userDataStyle" /><input type="hidden" id="hiddenScrollOffset" /><img id="collapseImage" style="display:none; height:0; width:0;" src="../icons/collapse_all.gif" alt="Collapse image" title="Collapse image" /><img id="expandImage" style="display:none; height:0; width:0;" src="../icons/expand_all.gif" alt="Expand Image" title="Expand Image" /><img id="collapseAllImage" style="display:none; height:0; width:0;" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><img id="expandAllImage" style="display:none; height:0; width:0;" src="../icons/expall.gif" alt="ExpandAll image" title="ExpandAll image" /><img id="dropDownImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" alt="DropDownHover image" title="DropDownHover image" /><img id="copyImage" style="display:none; height:0; width:0;" src="../icons/copycode.gif" alt="Copy image" title="Copy image" /><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../icons/copycodeHighlight.gif" alt="CopyHover image" title="CopyHover image" /><img id="checkBoxSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_selected.gif" /><img id="checkBoxUnSelectImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected.gif" /><img id="checkBoxSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_selected_hover.gif" /><img id="checkBoxUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/ch_unselected_hover.gif" /><img id="radioSelectImage" style="display:none; height:0; width:0;" src="../icons/r_select.gif" /><img id="radioUnSelectImage" style="display:none; height:0; width:0;" src="../icons/r_unselect.gif" /><img id="radioSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_select_hover.gif" /><img id="radioUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/r_unselect_hover.gif" /><img id="curvedLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_cnr.gif" /><img id="curvedRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_cnr.gif" /><img id="curvedLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_cnr.gif" /><img id="curvedRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_cnr.gif" /><img id="gradLeftSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_lft_grad.gif" /><img id="gradRightSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_sel_rt_grad.gif" /><img id="gradLeftUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_lft_grad.gif" /><img id="gradRightUnSelectImage" style="display:none; height:0; width:0;" src="../icons/tab_unsel_rt_grad.gif" /><img id="twirlSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected.gif" /><img id="twirlUnSelectImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected.gif" /><img id="twirlSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_selected_hover.gif" /><img id="twirlUnSelectHoverImage" style="display:none; height:0; width:0;" src="../icons/twirl_unselected_hover.gif" /><img id="NSRBottomImage" style="display:none; height:0; width:0;" src="../icons/NSRbottomgrad.gif" /><div id="header"><table id="topTable"><tr id="headerTableRow3"><td><span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage, event)" tabindex="0"><img ID="toggleAllImage" class="toggleAll" src="../icons/collall.gif" alt="CollapseAll image" title="CollapseAll image" /><label id="collapseAllLabel" for="toggleAllImage" style="display: none;">Collapse All</label><label id="expandAllLabel" for="toggleAllImage" style="display: none;">Expand All</label> </span> | <span id="languageFilterToolTip" style="cursor:default;" onmouseover="languageFilterImage.src=dropDownHoverImage.src;" onmouseout="languageFilterImage.src=dropDownImage.src;" tabindex="0"><img id="languageFilterImage" src="../icons/twirl_unselected.gif" alt="DropDown image" title="DropDown image" /><label id="CSharpLabel" for="languageFilterImage" style="display: none;">Language Filter: C#</label><label id="VisualBasicLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual Basic</label><label id="ManagedCPlusPlusLabel" for="languageFilterImage" style="display: none;">Language Filter: Visual C++</label></span><div id="languageSpan"><div id="CSharp" onclick="changeLanguage(data, 'CSharp', 'cs');"><img id="CSharpImage" onmouseover="mouseOverCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(CSharpImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> C#</div><br /><div id="VisualBasic" onclick="changeLanguage(data, 'VisualBasic', 'vb');"><img id="VisualBasicImage" onmouseover="mouseOverCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(VisualBasicImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual Basic</div><br /><div id="ManagedCPlusPlus" onclick="changeLanguage(data, 'ManagedCPlusPlus', 'cpp');"><img id="ManagedCPlusPlusImage" onmouseover="mouseOverCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" onmouseout="mouseOutCheck(ManagedCPlusPlusImage,radioSelectImage,radioUnSelectImage,radioSelectHoverImage,radioUnSelectHoverImage)" src="../icons/r_unselect.gif" /> Visual C++</div><br /></div> | <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a></td></tr><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">CritterAI Documentation</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">The Advanced Build Type</span></td></tr><tr><td class="nsrBottom" background="../icons/NSRbottomgrad.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()" /><span style="color: DarkGray"><p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p></span><div class="introduction"><p>
			The <span sdata="cer" target="T:NavmeshBuild"><a href="4E4B3848.htm">NavmeshBuild</a></span> asset's advanced build type serves three main purposes:
			</p><ul><li>Provides extra debug information to help you figure out problems, or better set the configuration.</li><li>Allows a partial rebuilds of multi-tiled navigation meshes.</li><li>Performs background processing for long builds.</li></ul><p>
			The advanced build uses the <span class="ui">Navmesh Build Manager</span> editor window that can be opened via the <span class="ui">CritterAI</span> menu.
			</p><p>
			The main drawback of the advanced build is that things can get a bit complex. With lots of extra options you need to know what you are doing.
			</p><p>
			The advanced build breaks the build down into four steps:
			</p><ul><li>Compile the input.</li><li>Set and accept the NMGen Configuration</li><li>Build and preview the result.</li><li>Bake the result to the target.</li></ul><p>
			While the standard build handles all these steps in one click, they are all separate steps in the advanced build.
			</p><p /><div class="alert"><table><tr><th><img src="../icons/alert_caution.gif" title="Caution note" /> <b>Caution:</b></th></tr><tr><td><p>
				The advanced build features are currently in an experimental state. The <a href="http://unity3d.com/" target="_blank">Unity</a> editor can be finicky when it comes to running background processes.
				Also, exception handling is not fully tested. 
				</p><p>
				Make sure you save your scenes frequency when using the advanced build features.
				</p></td></tr></table></div></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EEAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EEAAA, event)" tabindex="0"><img id="sectionToggleID0EEAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Limitations &amp; Gotchas</span></h1><div id="sectionSectionID0EEAAA" class="section" name="collapseableSection" style=""><p>
				Because the advanced build lets you go back and forth between the build and the scene while the build is in a partially complete state, there are some things you need to be
				careful of.
				</p><p>
				The input is compiled manually.  If you make a change to the scene in the middle of a build, you will need to recompile the input before the build will
				pick up the changes.
				</p><p>
				Certain configuration settings are locked in once you reach the builder stage.  If you want to change these settings after you've started the build you'll need to
				re-initialize the builder, throwing away any unbaked results.
				</p><p>
				If you chose to base a new build on the current target's navigation mesh then you will be automatically locked into certain configutration settings from the target.
				This includes the target's origin.  Any new scene geometry below the origin will not be included in the new build.
				</p><p>
				The input data cannot survive a Unity Editor reset.  A Unity Editor reset will occur, for example, when scripts are recompiled.  If an editor reset occurs
				during a build the build will enter a recovery state requiring manual intervention.
				</p><p>
				Be careful when switching scenes while performing an advanced build.  If you re-compile the input, it will gather the input from the currently open scene.
				</p><p>
				The advanced builder stores intermediate build data in the <span sdata="cer" target="T:NavmeshBuild"><a href="4E4B3848.htm">NavmeshBuild</a></span> asset.  This data is not cleared when
				you bake the mesh.  You must exit the build using the <span class="ui">Exit Build</span> button.  Otherwise, the next time you interact with
				the build you'll start with the cached data.  The primary reason for this behavior is to prevent the loss of build data in case of an accidental Unity Editor reset.
				But it is also a useful behavior if you happen to want to return to a partially complete build at a later time.
				</p><p>
				Don't forget to bake your build result.  Baking to the target is never automatic.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EDAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EDAAA, event)" tabindex="0"><img id="sectionToggleID0EDAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Input Compile</span></h1><div id="sectionSectionID0EDAAA" class="section" name="collapseableSection" style=""><p>
				The first step in the advanced build is the input compile.  Once you run the compile you'll get useful debug information along with visualization options.
				</p><div class="mediaNear"><img alt="Advanced Build-Input" src="../media/AdvancedBuild-Input.jpg" /></div><p>
				You can come back and re-compile the input at any point in the build process.  This is especially helpful if you are tweaking the scene and partially
				rebuilding a multi-tile navigation mesh.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0ECAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0ECAAA, event)" tabindex="0"><img id="sectionToggleID0ECAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Configuration</span></h1><div id="sectionSectionID0ECAAA" class="section" name="collapseableSection" style=""><p>
				During the configuration step you set the NMGen configuration that same as you would during a standard build.
				</p><div class="mediaNear"><img alt="Advanced Build-Config" src="../media/AdvancedBuild-Config.jpg" /></div><p>
				Once the configuration is set, you can start a new build from scratch using the <span class="ui">From Scratch</span> button.  If the target contains a
				supported multi-tile navigation mesh, then you can initialize the build from the target using the <span class="ui">Based on Target</span> button.  This will
				load the existing mesh's configuration and tile data into the builder so you can perform a partial rebuild.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(sectionToggleID0EBAAA)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(sectionToggleID0EBAAA, event)" tabindex="0"><img id="sectionToggleID0EBAAA" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />The Builder</span></h1><div id="sectionSectionID0EBAAA" class="section" name="collapseableSection" style=""><p /><div class="alert"><table><tr><th><img src="../icons/alert_note.gif" title="Note" /> <b>Note:</b></th></tr><tr><td><p>
					There are two types of builders, one for single-tile and one for multi-tile meshes.  This section covers the multi-tile version.
					The single-tile version is simple, so it is not covered here.
					</p></td></tr></table></div><p>
				The builder allows you to build, tweak, and rebuild your navigation mesh as needed.  Once satisfied you can bake the result to the build target.
				Various debug visualizations are available to help you see what is going on with the build.  Some visualizations are only available in zone mode.
				</p><div class="mediaNear"><img alt="Advanced Build-Builder" src="../media/AdvancedBuild-Builder.jpg" /></div><p /><div class="alert"><table><tr><th><img src="../icons/alert_caution.gif" title="Caution note" /> <b>Caution:</b></th></tr><tr><td><p>
					Be careful.  Some of the visualizations, especially the <span class="ui">Input Geometry</span> visualization, are framerate killers.
					</p></td></tr></table></div><p>
				It is possible to operate on only part of a navigation mesh by entering zone mode.  You can do this by clicking a tile and adjusting
				the <span class="ui">Zone Size</span> to get the coverage you desire.  You can set the zone size to zero if you only want to select a single tile.
				Exit zone mode by clicking on the selected tile.
				</p><p>
				Builds are performed in the background with the progress shown in the tile grid.  Be aware that the background builder is shared by
				all build operations in a priority queued manner.  It also limits the number of concurrent operations.  So if you are building multiple 
				meshes at once, or perform an input compile in the middle of an in-progress build, don't be surprise when some operations have to wait for 
				others to complete.  Input compiles have the highest priority, followed by zone builds.  'Build All' builds have the lowest priority.
				</p></div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle, event)" tabindex="0"><img id="seeAlsoToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><h4 class="subHeading">Concepts</h4><div class="seeAlsoStyle"><span sdata="link"><a href="61341701-6cb3-408b-9b1e-d60e3fb817e1.htm">Building Navigation Meshes</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="fb2ca7fa-3b03-41c6-88d8-731c44fb7879.htm">The Input Build</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="80abba67-1b0e-4ada-9be1-e12b386978d3.htm">Build Configuration</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="0b06b934-9f2b-43a3-a96b-6fd9dc8483c7.htm">An Introduction to NMGen</a></span></div></div><div id="footer"><div class="footerLine"><img width="100%" height="3px" src="../icons/footer.gif" alt="Footer image" title="Footer image" /></div><a href="http://www.critterai.org/" target="_parent">Project Home</a> | <a href="http://code.google.com/p/critterai/" target="_parent">Source Code</a> | <a href="http://www.critterai.org/cailic" target="_parent">License</a><p />Copyright (c) 2010-2012 Stephen A. Pratt</div></div></div></body></html>